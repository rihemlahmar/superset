<!-- <div [id]="'superset-container'"
     class="superset-mount"
     style="width: 100%; height: 100%;">
</div> -->

<!DOCTYPE html>
<html>
<head>
    <title>Superset Embedded Dashboard Test</title>
    <script src="https://unpkg.com/@superset-ui/embedded-sdk"></script>
</head>
<body>
<h1>My Embedded Superset Dashboard</h1>
<div id="dashboard-container" style="width: 100%; height: 800px; border: 1px solid #ccc;"></div>

<script>
    const DASHBOARD_UUID = "0b38c605-40e4-4c23-ac2b-e46f50fccce3" ;
    const GUEST_TOKEN = localStorage.getItem("GUEST_TOKEN") || "testing"; 

    async function embedDashboard() {
        const mountPoint = document.getElementById("dashboard-container");
 
        try {
            await supersetEmbeddedSdk.embedDashboard({
                id: DASHBOARD_UUID,
                supersetDomain: "http://localhost:8088",
                mountPoint: mountPoint,
                fetchGuestToken: () => Promise.resolve(GUEST_TOKEN),
                dashboardUiConfig: {
                    // This is the key part!
                    // Hiding the menu bar prevents the call to /api/v1/me/roles
                    hideTitle: true,
                    hideChartControls: false, // You can set this to true to hide "View as table", "Explore chart", etc.
                },
                debug: true,
            });
            console.log("Dashboard embedded successfully!");
        } catch (error) {
            console.error("Failed to embed dashboard:", error);
        }
    }
    embedDashboard();
</script>
</body>
</html>

<!--
<div class="superset-container">
    <div id="my-superset-chart" #supersetChart
         style="width: 100%; height: 500px; border: 1px solid #ddd;">
        <div *ngIf="loading" class="loading-container">
            <p>Loading Superset Dashboard...</p>
        </div>
        <div *ngIf="error" class="error-container">
            <p>Error loading dashboard: {{ error }}</p>
        </div>
    </div>
</div>

&lt;!&ndash;
&lt;!&ndash;<app-breadcrumb></app-breadcrumb>&ndash;&gt;
<div class="title" style="margin-left: 8px;">
    {{ 'NAV.DASHBOARD' | translate }}
</div>
<mat-card class="card">
    <div class="card-content">
        <div class="header">
            <div class="search-row" fxLayout="row" fxLayoutAlign="space-between center">
                <div class="search">
                    <ui-be-prime-search-input [showClear]="true"></ui-be-prime-search-input>
                </div>

                <div class="buttons-container">
                    <div class="icon-container" (click)="toggleFilter()">
                        <span class="i_filter"></span>
                    </div>
                </div>
            </div>
        </div>
        <div class="body">
            <app-power-bi-filter [showFilter]="showFilter"
                                 (dashboardFilter)="onDashboardFilterChanged($event)"
                                 (tableName)="onTableNameChanged($event)"
                                 (columnName)="onColumnNameChanged($event)">
            </app-power-bi-filter>

            <power-bi-dashboard-component *ngIf="!isLoading"
                                          [widgets]="widgets"
                                          [pages]= "pages"
                                          [embedUrl]= "embedUrl"
                                          [accessToken]= "accessToken"
                                          [reportId]="reportId"
                                          [businessLink]="businessLink"
                                          [currentLanguage]="currentLanguage"
                                          [parentDashboardId]="parentDashboardId"

                                          [currentDashboardId]="currentDashboardId"
                                          [return]="return"
                                          [blockReturn]="isDetails"
                                          [dashboardFilter]="selectedFilters"
                                          [tableName]="tableName"
                                          [columnName]="columnName"
                                          [workspaceId]="workspaceId"
                                          [basePath]= "basePath"
                                          [navigateToDetails]="navigateToDetails"
                                          (viewMore)="getDetailsDashboard($event)"
                                          (returnToPreviousDashboard)="returnToPrevious($event)"
            >
            </power-bi-dashboard-component>
        </div>
    </div>
</mat-card>
&ndash;&gt;
-->
